{% extends "base.html" %}

{% block rss %}
  {% set rss_path = "tags/" ~ term.name ~ "/rss.xml" %}
  <link rel="alternate" type="application/rss+xml" title="RSS" href="{{ get_url(path=rss_path, trailing_slash=false)}}">
{% endblock rss %}

{% block content %}

<div class="taglist-content">
	<h2 class="title fade">
		{% set tag_data = load_data(path="content/tag-info.json") %}
		#{{ term.name }}
		{% if tag_data is containing(term.name) %}
			<span class="tag-alt">({{ tag_data | get(key=term.name,default="") }})</span>
		{% elif term.name is starting_with("proj-") %}
			{% set proj_name = term.name | replace(from="proj-", to="") %}
			<span class="tag-alt">(posts about the <a href="/{{proj_name}}">{{proj_name}}</a> project)
		{% endif %}
	</h1>
	{% for entry in term.pages %}
		{% if entry.extra.url %}
			{{ macros::link(data=entry, icon=true) }}
		{% else %}
			{{ macros::post(data=entry, excerpt=true, icon=true) }}
		{% endif %}
	{% endfor %}
</div>

{% endblock content %}

